#PHARMACY DATABASE
#CREATE TABLE STATEMENTS:

CREATE TABLE WAREHOUSE(
	ID INT,
	NAME VARCHAR(20),
	LOCATION VARCHAR(30),
	PRIMARY KEY(ID)
);

CREATE TABLE DRUG(
	NAME VARCHAR(30),
	COST REAL,
	TYPE VARCHAR(20),
	BARCODE INT,
	MANUFACTURING_DATE DATE,
	MANUFACTURER_NAME VARCHAR(20),
	EXPIRY_DATE DATE,
	PRIMARY KEY(BARCODE)
);

CREATE TABLE DOCTOR(
	NAME VARCHAR(20),
	AGE INT,
	PH_NO VARCHAR(10),
	LICENSE INT,
	CLINIC_ADDRESS VARCHAR(30),
	PRIMARY KEY(LICENSE)
);

CREATE TABLE MANUFACTURER(
	NAME VARCHAR(20),
	ADDRESS VARCHAR(30),
	LICENSE INT,
	PRIMARY KEY(LICENSE)
);

CREATE TABLE SUPPLIER(
	NAME VARCHAR(20),
	ADDRESS VARCHAR(30),
	LICENSE INT,
	PRIMARY KEY(LICENSE)
);

CREATE TABLE EMPLOYEE(
	NAME VARCHAR(20),
	AGE INT,
	PH_NO VARCHAR(10),
	EMPLOYEE_ID INT,
	SHIFT_TIME VARCHAR(20),
	PRIMARY KEY(EMPLOYEE_ID)
);

CREATE TABLE CUSTOMERS(
	NAME VARCHAR(20),
	PH_NO VARCHAR(10),
	ADDRESS VARCHAR(30),
	CUSTOMER_ID INT,
	GENDER VARCHAR(1),
	EMPLOYEE_ID INT,
	PRIMARY KEY(CUSTOMER_ID),
	FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID)
);

#RELATIONSHIPS

 CREATE TABLE STOCKS(
	BARCODE INT,
	ID INT,
	PRIMARY KEY(BARCODE,ID),
	FOREIGN KEY(BARCODE) REFERENCES DRUG(BARCODE),
	FOREIGN KEY(ID) REFERNECES WAREHOUSE(ID)
);
	

CREATE TABLE BUYS(
	BARCODE INT,
	CUSTOMER_ID INT,
	PRIMARY KEY(BARCODE,CUSTOMER_ID),
	FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID),
	FOREIGN KEY(BARCODE) REFERENCES DRUG(BARCODE)
);

CREATE TABLE MANUFACTURES(
	BARCODE INT,
	MLICENSE INT,
	PRIMARY(BARCODE,MLICENSE),
	FOREIGN KEY(BARCODE) REFERENCES DRUG(BARCODE),
	FOREIGN KEY(MLICENSE) REFERENCES MANUFACTURER(LICENSE)
);

CREATE TABLE PRESCRIBES(
	BARCODE INT,
	DLICENSE INT,
	PRIMARY KEY(BARCODE,DLICENSE),
	FOREIGN KEY(BARCODE) REFERENCES DRUG(BARCODE),
	FOREIGN KEY(DLICENSE) REFERENCES DOCTOR(LICENSE)
);

CREATE TABLE SUPPLIES(
	MLICENSE INT,
	SLICENSE INT,
	PRIMARY KEY(MLICENSE,SLICENSE)
	FOREIGN KEY(MLICENSE) REFERENCES MANUFACTURER(LICENSE),
	FOREIGN KEY(SLICENSE) RFERENCES SUPPLIER(LICENSE)
);

CREATE TABLE CONTACTS(
	EMPLOYEE_ID INT,
	SLICENSE INT,
	PRIMARY KEY(EMPLOYEE_ID,SLICENSE),
	FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID),
	FOREIGN KEY(SLICENSE) REFERENCES SUPPLIER(LICENSE)
);

#INSERT STATEMENTS:

INSERT INTO EMPLOYEE VALUES('&NAME',&AGE,'&PH_NO',&EMPLOYEE_ID,'&SHIFT_TIME');
INSERT INTO CUSTOMERS VALUES('&NAME','&PH_NO','&ADDRESS',&CUSTOMER_ID,'&GENDER',&EMPLOYEE_ID);
INSERT INTO SUPPLIER VALUES('&NAME','&ADDRESS',&LICENSE);
INSERT INTO MANUFACTURER VALUES('&NAME','&ADDRESS',&LICENSE);
INSERT INTO DOCTOR VALUES('&NAME',&AGE,'&PH_NO',&LICENSE,'&CLINIC_ADDRESS');
INSERT INTO DRUG VALUES('&NAME',&COST,'&TYPE',&BARCODE,'&MANUFACTURING_DATE','&MANUFACTURER_NAME','&EXPIRY_DATE');
INSERT INTO WAREHOSE VALUES(&ID,'&NAME','&LOCATION');

#RELATIONSHIPS
INSERT INTO STOCKS VALUES(&BARCODE,&ID);
INSERT INTO BUYS VALUES(&BARCODE,&CUSTOMER_ID);
INSERT INTO MANUFACTURES VALUES(&BARCODE,&MLICENSE);
INSERT INTO PRESCRIBES VALUES(&BARCODE,&DLICENSE);
INSERT INTO SUPPLIES VALUES(&MLICENSE,&SLICENSE);
INSERT INTO CONTACTS VALUES(&EMPLOYEE_ID,&SLICENSE);

#SELECT STATEMENTS:
SELECT*FROM EMPLOYEE;
SELECT*FROM CUSTOMERS;
SELECT*FROM SUPPLIER;
SELECT*FROM MANUFACTURER;
SELECT*FROM DOCTOR;
SELECT*FROM DRUG;
SELECT*FROM WAREHOUSE;

SELECT*FROM STOCKS;
SELECT*FROM BUYS;
SELECT*FROM MANUFACTURES;
SELECT*FROM PRESCRIBES;
SELECT*FROM SUPPLIES;
SELECT*FROM CONTACTS;
























